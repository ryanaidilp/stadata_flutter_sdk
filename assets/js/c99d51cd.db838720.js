"use strict";(globalThis.webpackChunkstadata_flutter_sdk=globalThis.webpackChunkstadata_flutter_sdk||[]).push([[1347],{7074(e,a,i){i.r(a),i.d(a,{assets:()=>s,contentTitle:()=>t,default:()=>v,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"api-docs/list/derived-variables","title":"Derived Variables","description":"The Derived Variables API provides access to calculated or transformed statistical variables from BPS (Badan Pusat Statistik) Indonesia. Derived variables represent computed metrics that are derived from base statistical variables, such as growth rates, percentage changes, indices, or other calculated measures.","source":"@site/docs/api-docs/list/derived-variables.md","sourceDirName":"api-docs/list","slug":"/api-docs/list/derived-variables","permalink":"/stadata_flutter_sdk/docs/next/api-docs/list/derived-variables","draft":false,"unlisted":false,"editUrl":"https://github.com/ryanaidilp/stadata_flutter_sdk/tree/main/docs/docs/api-docs/list/derived-variables.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20},"sidebar":"tutorialSidebar","previous":{"title":"Derived Periods","permalink":"/stadata_flutter_sdk/docs/next/api-docs/list/derived-periods"},"next":{"title":"Census","permalink":"/stadata_flutter_sdk/docs/next/api-docs/list/census"}}');var r=i(4848),d=i(8453);const l={sidebar_position:20},t="Derived Variables",s={},c=[{value:"Understanding Derived Variables",id:"understanding-derived-variables",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Examples",id:"examples",level:2},{value:"1. Get Derived Variables for a Domain",id:"1-get-derived-variables-for-a-domain",level:3},{value:"2. Get Derived Variables for a Specific Base Variable",id:"2-get-derived-variables-for-a-specific-base-variable",level:3},{value:"3. Integration with Dynamic Table Filtering",id:"3-integration-with-dynamic-table-filtering",level:3},{value:"4. Complete Dimension Loading for Dynamic Tables",id:"4-complete-dimension-loading-for-dynamic-tables",level:3},{value:"5. Building a Filter Selection UI",id:"5-building-a-filter-selection-ui",level:3},{value:"Properties (DerivedVariable)",id:"properties-derivedvariable",level:2},{value:"Common Derived Variable Types",id:"common-derived-variable-types",level:2},{value:"Handling Placeholder Values",id:"handling-placeholder-values",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Related APIs",id:"related-apis",level:2}];function o(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"derived-variables",children:"Derived Variables"})}),"\n",(0,r.jsx)(a.p,{children:"The Derived Variables API provides access to calculated or transformed statistical variables from BPS (Badan Pusat Statistik) Indonesia. Derived variables represent computed metrics that are derived from base statistical variables, such as growth rates, percentage changes, indices, or other calculated measures."}),"\n",(0,r.jsx)(a.h2,{id:"understanding-derived-variables",children:"Understanding Derived Variables"}),"\n",(0,r.jsx)(a.p,{children:"Derived variables serve specific analytical purposes:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Calculated Metrics"}),": Represent computations based on raw statistical data"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Transformation Types"}),": Include percentages, growth rates, indices, and ratios"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Enhanced Analysis"}),": Enable deeper insights by providing pre-calculated analytical measures"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Filter Dimension"}),": Used as filtering parameters in dynamic table queries"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(a.table,{children:[(0,r.jsx)(a.thead,{children:(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.th,{children:"Parameter"}),(0,r.jsx)(a.th,{children:"Type"}),(0,r.jsx)(a.th,{children:"Description"})]})}),(0,r.jsxs)(a.tbody,{children:[(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"domain"})}),(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"String"})}),(0,r.jsxs)(a.td,{children:["Domain code (region) for retrieving derived variables ",(0,r.jsx)(a.strong,{children:"(required)"})]})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"lang"})}),(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"DataLanguage"})}),(0,r.jsxs)(a.td,{children:["Language for data representation (default: ",(0,r.jsx)(a.code,{children:"DataLanguage.id"}),")"]})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"page"})}),(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"int"})}),(0,r.jsxs)(a.td,{children:["Page number for pagination (default: ",(0,r.jsx)(a.code,{children:"1"}),")"]})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"variableID"})}),(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"int?"})}),(0,r.jsx)(a.td,{children:"Filter by base variable ID (optional)"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"verticalGroup"})}),(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"int?"})}),(0,r.jsx)(a.td,{children:"Filter by vertical variable group (optional)"})]})]})]}),"\n",(0,r.jsx)(a.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(a.h3,{id:"1-get-derived-variables-for-a-domain",children:"1. Get Derived Variables for a Domain"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-dart",children:"// Fetch derived variables for Central Java\nfinal derivedVarsResult = await StadataFlutter.instance.list.derivedVariables(\n  domain: '3300', // Central Java domain code\n  lang: DataLanguage.id,\n);\n\nfinal derivedVarsList = derivedVarsResult.data;\nfinal pagination = derivedVarsResult.pagination;\n\n// Print pagination information\nprint('Current Page: ${pagination.page}');\nprint('Total Pages: ${pagination.pages}');\nprint('Data Count: ${pagination.count}');\nprint('Total: ${pagination.total}');\nprint('------------------------');\n\n// Print derived variable data\nfor (final derivedVar in derivedVarsList) {\n  print('ID: ${derivedVar.id}');\n  print('Name: ${derivedVar.name}');\n  print('------------------------');\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"2-get-derived-variables-for-a-specific-base-variable",children:"2. Get Derived Variables for a Specific Base Variable"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-dart",children:"// Fetch derived variables associated with a specific variable\nfinal derivedVarsResult = await StadataFlutter.instance.list.derivedVariables(\n  domain: '0000', // National level\n  lang: DataLanguage.id,\n  variableID: 145, // Base variable ID\n);\n\n// Check for meaningful derived variables\nfinal meaningfulVars = derivedVarsResult.data\n    .where((dv) => dv.id != 0 && dv.name.toLowerCase() != 'tidak ada')\n    .toList();\n\nif (meaningfulVars.isEmpty) {\n  print('No derived variables available for this variable');\n} else {\n  print('Available derived variables: ${meaningfulVars.length}');\n  for (final dv in meaningfulVars) {\n    print('  - ${dv.name} (ID: ${dv.id})');\n  }\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"3-integration-with-dynamic-table-filtering",children:"3. Integration with Dynamic Table Filtering"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-dart",children:"// Use derived variables to filter dynamic table data\nFuture<void> loadTableWithDerivedVariable({\n  required String domain,\n  required int variableID,\n}) async {\n  // 1. Load available derived variables\n  final derivedVarsResult = await StadataFlutter.instance.list.derivedVariables(\n    domain: domain,\n    variableID: variableID,\n  );\n\n  // 2. Filter out placeholder values\n  final validDerivedVars = derivedVarsResult.data\n      .where((dv) => dv.id != 0 && dv.name.toLowerCase() != 'tidak ada')\n      .toList();\n\n  if (validDerivedVars.isEmpty) {\n    print('No derived variable filtering available');\n    return;\n  }\n\n  // 3. Select a derived variable for filtering\n  final selectedDerivedVar = validDerivedVars.first;\n  print('Using derived variable: ${selectedDerivedVar.name}');\n\n  // 4. Fetch dynamic table with derived variable filter\n  final tableResult = await StadataFlutter.instance.list.dynamicTableDetail(\n    variableID: variableID,\n    domain: domain,\n    derivedVarID: selectedDerivedVar.id,\n  );\n\n  tableResult.fold(\n    (failure) => print('Error: $failure'),\n    (table) {\n      print('Table: ${table.title}');\n      print('Filtered by: ${selectedDerivedVar.name}');\n      print('Data rows: ${table.dataContent.length}');\n    },\n  );\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"4-complete-dimension-loading-for-dynamic-tables",children:"4. Complete Dimension Loading for Dynamic Tables"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-dart",children:"// Load all filtering dimensions for a dynamic table variable\nclass DynamicTableDimensionLoader {\n  static Future<void> loadAllDimensions({\n    required String domain,\n    required int variableID,\n  }) async {\n    print('=== Loading Dimensions for Variable $variableID ===\\n');\n\n    // Load vertical variables\n    try {\n      final verticalVarsResult = await StadataFlutter.instance.list.verticalVariables(\n        domain: domain,\n        variableID: variableID,\n      );\n      print('Vertical Variables: ${verticalVarsResult.data.length}');\n      for (final v in verticalVarsResult.data.take(3)) {\n        print('  - ${v.title} (ID: ${v.id})');\n      }\n    } catch (e) {\n      print('Vertical Variables: Not available');\n    }\n\n    // Load derived variables\n    try {\n      final derivedVarsResult = await StadataFlutter.instance.list.derivedVariables(\n        domain: domain,\n        variableID: variableID,\n      );\n      final validVars = derivedVarsResult.data\n          .where((dv) => dv.id != 0 && dv.name.toLowerCase() != 'tidak ada')\n          .toList();\n      print('\\nDerived Variables: ${validVars.length}');\n      for (final dv in validVars.take(3)) {\n        print('  - ${dv.name} (ID: ${dv.id})');\n      }\n    } catch (e) {\n      print('\\nDerived Variables: Not available');\n    }\n\n    // Load periods\n    try {\n      final periodsResult = await StadataFlutter.instance.list.periods(\n        domain: domain,\n        variableID: variableID,\n      );\n      print('\\nPeriods: ${periodsResult.data.length}');\n      for (final p in periodsResult.data.take(3)) {\n        print('  - ${p.year} (ID: ${p.id})');\n      }\n    } catch (e) {\n      print('\\nPeriods: Not available');\n    }\n\n    // Load derived periods\n    try {\n      final derivedPeriodsResult = await StadataFlutter.instance.list.derivedPeriods(\n        domain: domain,\n        variableID: variableID,\n      );\n      final validPeriods = derivedPeriodsResult.data\n          .where((dp) => dp.id != 0 && dp.name.toLowerCase() != 'tidak ada')\n          .toList();\n      print('\\nDerived Periods: ${validPeriods.length}');\n      for (final dp in validPeriods.take(3)) {\n        print('  - ${dp.name} (ID: ${dp.id})');\n      }\n    } catch (e) {\n      print('\\nDerived Periods: Not available');\n    }\n  }\n}\n\n// Usage\nawait DynamicTableDimensionLoader.loadAllDimensions(\n  domain: '0000',\n  variableID: 145,\n);\n"})}),"\n",(0,r.jsx)(a.h3,{id:"5-building-a-filter-selection-ui",children:"5. Building a Filter Selection UI"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-dart",children:"// State management for derived variable selection\nclass DerivedVariableSelector {\n  final List<DerivedVariable> _availableVars = [];\n  int? _selectedID;\n\n  Future<void> loadDerivedVariables({\n    required String domain,\n    required int variableID,\n  }) async {\n    final result = await StadataFlutter.instance.list.derivedVariables(\n      domain: domain,\n      variableID: variableID,\n    );\n\n    // Filter and store meaningful variables\n    _availableVars.clear();\n    _availableVars.addAll(\n      result.data.where((dv) =>\n        dv.id != 0 && dv.name.toLowerCase() != 'tidak ada'\n      ),\n    );\n  }\n\n  void selectVariable(int? id) {\n    _selectedID = id;\n  }\n\n  void clearSelection() {\n    _selectedID = null;\n  }\n\n  List<DerivedVariable> get availableVariables => List.unmodifiable(_availableVars);\n  int? get selectedID => _selectedID;\n  bool get hasSelection => _selectedID != null;\n  bool get hasOptions => _availableVars.isNotEmpty;\n}\n"})}),"\n",(0,r.jsx)(a.h2,{id:"properties-derivedvariable",children:"Properties (DerivedVariable)"}),"\n",(0,r.jsxs)(a.table,{children:[(0,r.jsx)(a.thead,{children:(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.th,{children:"Property"}),(0,r.jsx)(a.th,{children:"Type"}),(0,r.jsx)(a.th,{children:"Description"})]})}),(0,r.jsxs)(a.tbody,{children:[(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"id"})}),(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"int"})}),(0,r.jsx)(a.td,{children:"Unique identifier for the derived variable"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"name"})}),(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"String"})}),(0,r.jsx)(a.td,{children:"Display name of the derived variable"})]})]})]}),"\n",(0,r.jsx)(a.h2,{id:"common-derived-variable-types",children:"Common Derived Variable Types"}),"\n",(0,r.jsx)(a.p,{children:"Derived variables typically represent:"}),"\n",(0,r.jsxs)(a.table,{children:[(0,r.jsx)(a.thead,{children:(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.th,{children:"Type"}),(0,r.jsx)(a.th,{children:"Description"}),(0,r.jsx)(a.th,{children:"Example"})]})}),(0,r.jsxs)(a.tbody,{children:[(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"Growth Rates"}),(0,r.jsx)(a.td,{children:"Year-over-year changes"}),(0,r.jsx)(a.td,{children:'"Pertumbuhan (%)"'})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"Percentages"}),(0,r.jsx)(a.td,{children:"Proportional values"}),(0,r.jsx)(a.td,{children:'"Persentase"'})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"Index Values"}),(0,r.jsx)(a.td,{children:"Normalized measures"}),(0,r.jsx)(a.td,{children:'"Indeks"'})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"Per Capita"}),(0,r.jsx)(a.td,{children:"Population-adjusted values"}),(0,r.jsx)(a.td,{children:'"Per Kapita"'})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:"Cumulative"}),(0,r.jsx)(a.td,{children:"Running totals"}),(0,r.jsx)(a.td,{children:'"Kumulatif"'})]})]})]}),"\n",(0,r.jsx)(a.h2,{id:"handling-placeholder-values",children:"Handling Placeholder Values"}),"\n",(0,r.jsx)(a.p,{children:"The BPS API may return placeholder derived variables. Always filter these:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-dart",children:"// Utility function to filter meaningful derived variables\nList<DerivedVariable> filterMeaningfulDerivedVariables(\n  List<DerivedVariable> variables,\n) {\n  return variables.where((dv) {\n    // Filter out ID 0 and \"tidak ada\" placeholders\n    if (dv.id == 0) return false;\n    if (dv.name.toLowerCase() == 'tidak ada') return false;\n    return true;\n  }).toList();\n}\n\n// Usage\nfinal allDerivedVars = derivedVarsResult.data;\nfinal meaningfulVars = filterMeaningfulDerivedVariables(allDerivedVars);\nprint('Meaningful derived variables: ${meaningfulVars.length}');\n"})}),"\n",(0,r.jsx)(a.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-dart",children:"try {\n  final result = await StadataFlutter.instance.list.derivedVariables(\n    domain: '3300',\n    variableID: 145,\n  );\n\n  // Process successful result\n  print('Found ${result.data.length} derived variables');\n\n} on DerivedVariableException catch (e) {\n  print('Derived variable error: ${e.message}');\n  // Handle derived variable-specific errors\n\n} on ApiException catch (e) {\n  print('API error: ${e.message}');\n  // Handle network or API service errors\n\n} on ApiKeyNotFoundException catch (e) {\n  print('API key error: ${e.message}');\n  // Handle API key issues\n\n} catch (e) {\n  print('Unexpected error: $e');\n}\n"})}),"\n",(0,r.jsx)(a.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Filter Placeholders"}),": Always filter out ",(0,r.jsx)(a.code,{children:"id == 0"}),' and "tidak ada" values']}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Graceful Handling"}),": Not all variables have derived variants; handle empty results"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:'Show "All" Option'}),": Allow users to view unfiltered data alongside filtered views"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Combine Filters"}),": Derived variables can be combined with other dimensions"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Cache Results"}),": Derived variable lists rarely change; consider caching"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"related-apis",children:"Related APIs"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:(0,r.jsx)(a.a,{href:"./variables",children:"Variables"})}),": Get base statistical variables"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:(0,r.jsx)(a.a,{href:"./vertical-variables",children:"Vertical Variables"})}),": Get hierarchical variable structures"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:(0,r.jsx)(a.a,{href:"./periods",children:"Periods"})}),": Get time periods"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:(0,r.jsx)(a.a,{href:"./derived-periods",children:"Derived Periods"})}),": Get aggregated time periods"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:(0,r.jsx)(a.a,{href:"./dynamic-tables",children:"Dynamic Tables"})}),": Use derived variables for filtering"]}),"\n"]})]})}function v(e={}){const{wrapper:a}={...(0,d.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453(e,a,i){i.d(a,{R:()=>l,x:()=>t});var n=i(6540);const r={},d=n.createContext(r);function l(e){const a=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(d.Provider,{value:a},e.children)}}}]);